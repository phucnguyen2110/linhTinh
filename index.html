<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Food Selection</title>
  <link rel="stylesheet" href="css/food.css" />
</head>

<body>
  <form id="foodForm" action="https://formspree.io/f/xvgblvqk" method="POST">
    <div id="foodquestion">
      <b>Chị muốn ăn món gì nèee?</b>
    </div>

    <div class="food-selection">
      <div class="food-item">
        <img src="food/burgers.jpeg" alt="Burgers, fries and fried chicken" />
        <label><input type="checkbox" name="food" value="Burgers, fries and fried chicken" />
          Hamburger và gà rán</label>
      </div>
      <div class="food-item">
        <img src="food/doNuong.jpg" alt="doNuong" />
        <label><input type="checkbox" name="food" value="doNuong" />
          Đồ nướng</label>
      </div>
      <div class="food-item">
        <img src="food/steamFood.jpg" alt="steam" />
        <label><input type="checkbox" name="food" value="doHap" /> Đồ hấp</label>
      </div>
      <div class="food-item">
        <img src="food/koreanfood.jpeg" alt="koreanfood" />
        <label><input type="checkbox" name="food" value="Korean food" /> Đồ Hàn Quốc</label>
      </div>
      <div class="food-item">
        <img src="food/pasta.jpeg" alt="pasta" />
        <label><input type="checkbox" name="food" value="pasta" /> Mì ý</label>
      </div>
      <div class="food-item">
        <img src="food/pizza.jpeg" alt="pizza" />
        <label><input type="checkbox" name="food" value="pizza" /> Pizza</label>
      </div>
      <div class="food-item">
        <img src="food/steak.jpeg" alt="steak" />
        <label><input type="checkbox" name="food" value="steak" /> Bít tết</label>
      </div>
      <div class="food-item">
        <img src="food/sushi.jpeg" alt="sushi" />
        <label><input type="checkbox" name="food" value="sushi" /> Sushi</label>
      </div>
      <div class="food-item">
        <img src="food/lau.jpg" alt="lau" />
        <label><input type="checkbox" name="food" value="lau" /> Lẩu</label>
      </div>
      <div class="food-item">
        <img src="food/other.png" alt="others" />
        <div class="other-input-wrapper">
          <input type="text" name="food_other" placeholder="Nhập món khác" />
        </div>
      </div>
    </div>
    <button class="button" type="submit">
      Tiếp theo nè
    </button>
  </form>
  <script>
    document.getElementById('foodForm').addEventListener('submit', function (e) {
      e.preventDefault();
      const form = this;
      fetch(form.action, {
        method: form.method,
        body: new FormData(form),
        headers: { 'Accept': 'application/json' }
      }).then(response => {
        if (response.ok) {
          window.location = 'dessert.html';
        } else {
          alert('Gửi thất bại, thử lại nhé!');
        }
      }).catch(() => {
        alert('Có lỗi mạng, thử lại nhé!');
      });
    });
  </script>
</body>

</html>