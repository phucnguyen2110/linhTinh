<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Dessert Selection</title>
  <link rel="stylesheet" href="css/dessert.css" />
</head>

<body>
  <form id="dessertForm" action="https://formspree.io/f/xvgblvqk" method="POST">
    <div id="dessertquestion"><b>Chọn món tráng miệng nèeee?</b></div>
    <div class="dessert-selection">
      <div class="dessert-item">
        <img src="food/boba.jpeg" alt="traSua" />
        <label><input type="checkbox" name="dessert" value="traSua" /> Trà sữa</label>
      </div>
      <div class="dessert-item">
        <img src="food/cf.jpg" alt="cf" />
        <label><input type="checkbox" name="dessert" value="cf" /> Cà phê chill chill</label>
      </div>
      <div class="dessert-item">
        <img src="food/churro.jpeg" alt="banhQuy" />
        <label><input type="checkbox" name="dessert" value="banhQuy" /> Bánh quy</label>
      </div>
      <div class="dessert-item">
        <img src="food/che.jpeg" alt="che" />
        <label><input type="checkbox" name="dessert" value="che" /> Chè</label>
      </div>
      <div class="dessert-item">
        <img src="food/mochi.jpeg" alt="mochi" />
        <label><input type="checkbox" name="dessert" value="mochi" /> Mochi</label>
      </div>
      <div class="dessert-item">
        <img src="food/randombun.jpeg" alt="randombun" />
        <label><input type="checkbox" name="dessert" value="randombun" /> Bánh ngọt</label>
      </div>
      <div class="dessert-item">
        <img src="food/taiyaki.jpeg" alt="taiyaki" />
        <label><input type="checkbox" name="dessert" value="taiyaki" /> Kem</label>
      </div>
      <div class="dessert-item">
        <img src="food/other.png" alt="others" />
        <div class="other-input-wrapper">
          <input type="text" name="dessert_other" placeholder="Nhập món tráng miệng khác" />
        </div>
      </div>
    </div>
    <button class="button" type="submit">
      Tiếp nữaaaa
    </button>
  </form>
  <script>
    document.getElementById('dessertForm').addEventListener('submit', function (e) {
      e.preventDefault();
      const form = this;
      fetch(form.action, {
        method: form.method,
        body: new FormData(form),
        headers: { 'Accept': 'application/json' }
      }).then(response => {
        if (response.ok) {
          window.location = 'activities.html';
        } else {
          alert('Gửi thất bại, thử lại nhé!');
        }
      }).catch(() => {
        alert('Có lỗi mạng, thử lại nhé!');
      });
    });
  </script>
</body>

</html>